<div class="wishlist-container">
  <div class="test-controls" style="margin-bottom: 1rem; padding: 1rem; border: 1px dashed #ccc; border-radius: 4px;">
    <h4>Tests de la wishlist :</h4>
    <p-button label="Charger données test" (onClick)="loadTestData()" severity="info" [outlined]="true" [style]="{'margin-right': '0.5rem'}"></p-button>
    <p-button label="Ajouter produit aléatoire" (onClick)="addRandomProduct()" severity="secondary" [outlined]="true" [style]="{'margin-right': '0.5rem'}"></p-button>
    <p-button label="Ajouter tous les produits" (onClick)="addAllProducts()" severity="warning" [outlined]="true"></p-button>
  </div>
  
  <p-card header="Mes Favoris">
    <div *ngIf="wishlistItems().length === 0" class="empty-wishlist">
      <p>Votre liste de favoris est vide</p>
    </div>
    
    <div *ngIf="wishlistItems().length > 0">
      <p-table [value]="wishlistItems()" [tableStyle]="{'min-width': '50rem'}">
        <ng-template pTemplate="header">
          <tr>
            <th>Produit</th>
            <th>Prix</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
          <tr>
            <td>{{ product.name }}</td>
            <td>{{ product.price | currency:'EUR' }}</td>
            <td>
              <div [style]="{'display': 'flex', 'gap': '0.5rem'}">
                <p-button 
                  label="Ajouter au panier" 
                  icon="pi pi-shopping-cart"
                  severity="success"
                  [outlined]="true"
                  (onClick)="addToCart(product)">
                </p-button>
                <p-button 
                  icon="pi pi-trash" 
                  severity="danger" 
                  [outlined]="true"
                  (onClick)="removeFromWishlist(product.id)">
                </p-button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
      
      <div class="wishlist-footer" [style]="{'margin-top': '1rem', 'text-align': 'right'}">
        <p-button 
          label="Vider les favoris" 
          severity="secondary" 
          [outlined]="true"
          (onClick)="clearWishlist()">
        </p-button>
      </div>
    </div>
  </p-card>
</div>